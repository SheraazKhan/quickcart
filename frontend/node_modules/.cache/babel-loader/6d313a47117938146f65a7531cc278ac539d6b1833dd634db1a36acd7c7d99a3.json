{"ast":null,"code":"var _jsxFileName = \"D:\\\\Quickcart\\\\frontend\\\\src\\\\pages\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./Profile.css\";\nimport API_BASE_URL from \"../utils/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  // read user safely\n  const getStoredUser = () => {\n    try {\n      return JSON.parse(localStorage.getItem(\"user\"));\n    } catch {\n      return null;\n    }\n  };\n  const [user, setUser] = useState(getStoredUser());\n  const [form, setForm] = useState({\n    name: \"\",\n    email: \"\"\n  });\n  const [banner, setBanner] = useState({\n    text: \"\",\n    ok: true\n  });\n  const [imageUploading, setImageUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isEditing, setIsEditing] = useState(false);\n  const [showPasswordForm, setShowPasswordForm] = useState(false);\n  const [showOld, setShowOld] = useState(false);\n  const [showNew, setShowNew] = useState(false);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [passwordData, setPasswordData] = useState({\n    oldPassword: \"\",\n    newPassword: \"\",\n    confirmPassword: \"\"\n  });\n  const token = localStorage.getItem(\"token\");\n  const fileInputRef = useRef(null);\n  useEffect(() => {\n    if (user) setForm({\n      name: user.name || \"\",\n      email: user.email || \"\"\n    });\n  }, [user]);\n  const authHeader = token ? {\n    Authorization: `Bearer ${token}`\n  } : {};\n  const getAvatar = src => {\n    if (!src) return \"https://placehold.co/96x96?text=Avatar\";\n    if (typeof src === \"string\") {\n      if (/^https?:\\/\\//i.test(src)) return src;\n      return `${API_BASE_URL}${src.startsWith(\"/\") ? \"\" : \"/\"}${src}`;\n    }\n    if (src !== null && src !== void 0 && src.url) return src.url;\n    return \"https://placehold.co/96x96?text=Avatar\";\n  };\n  const setMsg = (text, ok = true) => setBanner({\n    text,\n    ok\n  });\n  const handleChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const handleUpdate = async e => {\n    e.preventDefault();\n    try {\n      const res = await axios.put(`${API_BASE_URL}/api/users/${user.id}`, form, {\n        headers: {\n          ...authHeader\n        }\n      });\n      localStorage.setItem(\"user\", JSON.stringify(res.data));\n      setUser(res.data);\n      setMsg(\"Profile updated!\", true);\n      setIsEditing(false);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Update failed:\", err);\n      setMsg((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Failed to update profile.\", false);\n    }\n  };\n  const handleImageUpload = async e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n    const formData = new FormData();\n    formData.append(\"image\", file);\n    setImageUploading(true);\n    try {\n      const res = await axios.post(`${API_BASE_URL}/api/users/${user.id}/upload`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          ...authHeader\n        },\n        onUploadProgress: pe => {\n          if (!pe.total) return;\n          setUploadProgress(Math.round(pe.loaded * 100 / pe.total));\n        }\n      });\n      const updatedUser = {\n        ...user,\n        profilePicture: res.data.image\n      };\n      setUser(updatedUser);\n      localStorage.setItem(\"user\", JSON.stringify(updatedUser));\n      setMsg(\"Profile picture updated!\", true);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error(\"Upload error:\", err);\n      setMsg((err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || \"Failed to upload profile picture.\", false);\n    } finally {\n      setImageUploading(false);\n      setUploadProgress(0);\n      if (fileInputRef.current) fileInputRef.current.value = \"\";\n    }\n  };\n  const handleRemoveImage = async () => {\n    try {\n      await axios.delete(`${API_BASE_URL}/api/users/${user.id}/remove-picture`, {\n        headers: {\n          ...authHeader\n        }\n      });\n      const updatedUser = {\n        ...user,\n        profilePicture: \"\"\n      };\n      setUser(updatedUser);\n      localStorage.setItem(\"user\", JSON.stringify(updatedUser));\n      setMsg(\"Profile picture removed.\", true);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error(\"Remove error:\", err);\n      setMsg((err === null || err === void 0 ? void 0 : (_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.error) || \"Failed to remove profile picture.\", false);\n    }\n  };\n  const handleChangePassword = async e => {\n    e.preventDefault();\n    const {\n      oldPassword,\n      newPassword,\n      confirmPassword\n    } = passwordData;\n    if (!oldPassword || !newPassword || !confirmPassword) {\n      return setMsg(\"All password fields are required.\", false);\n    }\n    if (newPassword.length < 8 || !/[A-Za-z]/.test(newPassword) || !/\\d/.test(newPassword)) {\n      return setMsg(\"New password must be 8+ chars and include a letter and a number.\", false);\n    }\n    if (newPassword !== confirmPassword) {\n      return setMsg(\"New passwords do not match.\", false);\n    }\n    try {\n      var _res$data;\n      const res = await axios.put(`${API_BASE_URL}/api/users/${user.id}/change-password`, {\n        oldPassword,\n        newPassword\n      }, {\n        headers: {\n          ...authHeader\n        }\n      });\n      setMsg(((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.message) || \"Password changed.\", true);\n      setPasswordData({\n        oldPassword: \"\",\n        newPassword: \"\",\n        confirmPassword: \"\"\n      });\n      setShowPasswordForm(false);\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      console.error(\"Password change failed:\", err);\n      setMsg((err === null || err === void 0 ? void 0 : (_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.error) || \"Failed to change password.\", false);\n    }\n  };\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"bg-gray-50 min-h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-3xl mx-auto px-4 py-16 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl p-10 ring-1 ring-black/5 shadow-[0_1px_2px_rgba(0,0,0,0.06),0_10px_20px_rgba(0,0,0,0.06)]\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold mb-2\",\n            children: \"Please log in to view your profile.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"bg-gray-50 min-h-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto px-4 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 md:p-8 rounded-xl ring-1 ring-black/5 shadow-[0_1px_2px_rgba(0,0,0,0.06),0_10px_20px_rgba(0,0,0,0.06)] fade-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-extrabold text-slate-900 text-center mb-6\",\n          children: \"Your Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: getAvatar(user.profilePicture),\n            alt: \"Profile\",\n            className: \"w-20 h-20 rounded-full object-cover ring-1 ring-black/5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"avatar-input\",\n              className: \"px-3 py-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold cursor-pointer\",\n              children: \"Change photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"avatar-input\",\n              ref: fileInputRef,\n              type: \"file\",\n              accept: \"image/*\",\n              className: \"hidden\",\n              onChange: handleImageUpload\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), user.profilePicture && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleRemoveImage,\n              className: \"px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-sm font-medium\",\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), imageUploading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-gray-200 rounded-full h-2 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-emerald-600 h-2 rounded-full transition-all\",\n            style: {\n              width: `${uploadProgress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleUpdate,\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-1\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"name\",\n              value: form.name,\n              onChange: handleChange,\n              className: \"w-full px-3 py-2 border border-gray-200 rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-1\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"email\",\n              type: \"email\",\n              value: form.email,\n              onChange: handleChange,\n              className: \"w-full px-3 py-2 border border-gray-200 rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 pt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"bg-emerald-600 hover:bg-emerald-700 text-white px-5 py-2.5 rounded-lg font-semibold\",\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                setIsEditing(false);\n                setForm({\n                  name: user.name || \"\",\n                  email: user.email || \"\"\n                });\n              },\n              className: \"bg-white border border-gray-200 hover:bg-gray-50 px-5 py-2.5 rounded-lg font-semibold\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"block text-xs text-gray-500\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"block text-xs text-gray-500\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsEditing(true),\n            className: \"mt-2 bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-lg font-semibold\",\n            children: \"Edit Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setShowPasswordForm(v => !v),\n          className: \"mt-6 text-sm text-indigo-600 hover:underline\",\n          children: showPasswordForm ? \"Cancel password change\" : \"Change password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), showPasswordForm && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleChangePassword,\n          className: \"mt-4 space-y-3 fade-in\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-1\",\n              children: \"Old Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: showOld ? \"text\" : \"password\",\n                className: \"w-full border border-gray-200 rounded-lg px-3 py-2 pr-12\",\n                value: passwordData.oldPassword,\n                onChange: e => setPasswordData({\n                  ...passwordData,\n                  oldPassword: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setShowOld(v => !v),\n                className: \"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-indigo-600\",\n                children: showOld ? \"Hide\" : \"Show\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-1\",\n              children: \"New Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: showNew ? \"text\" : \"password\",\n                className: \"w-full border border-gray-200 rounded-lg px-3 py-2 pr-12\",\n                value: passwordData.newPassword,\n                onChange: e => setPasswordData({\n                  ...passwordData,\n                  newPassword: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setShowNew(v => !v),\n                className: \"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-indigo-600\",\n                children: showNew ? \"Hide\" : \"Show\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: \"Use at least 8 characters, including a letter and a number.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-1\",\n              children: \"Confirm New Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: showConfirm ? \"text\" : \"password\",\n                className: \"w-full border border-gray-200 rounded-lg px-3 py-2 pr-12\",\n                value: passwordData.confirmPassword,\n                onChange: e => setPasswordData({\n                  ...passwordData,\n                  confirmPassword: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setShowConfirm(v => !v),\n                className: \"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-indigo-600\",\n                children: showConfirm ? \"Hide\" : \"Show\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"bg-emerald-600 hover:bg-emerald-700 text-white px-5 py-2.5 rounded-lg font-semibold\",\n            children: \"Save Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this), banner.text && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `mt-6 border rounded-lg px-4 py-3 text-sm ${banner.ok ? \"bg-emerald-50 text-emerald-700 border-emerald-200\" : \"bg-red-50 text-red-700 border-red-200\"}`,\n          children: banner.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold mb-2\",\n            children: \"Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Order history and saved items coming soon.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"i5jIbP1ymiTuUNI0xBfsea3egOs=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useRef","useState","axios","API_BASE_URL","jsxDEV","_jsxDEV","Profile","_s","getStoredUser","JSON","parse","localStorage","getItem","user","setUser","form","setForm","name","email","banner","setBanner","text","ok","imageUploading","setImageUploading","uploadProgress","setUploadProgress","isEditing","setIsEditing","showPasswordForm","setShowPasswordForm","showOld","setShowOld","showNew","setShowNew","showConfirm","setShowConfirm","passwordData","setPasswordData","oldPassword","newPassword","confirmPassword","token","fileInputRef","authHeader","Authorization","getAvatar","src","test","startsWith","url","setMsg","handleChange","e","target","value","handleUpdate","preventDefault","res","put","id","headers","setItem","stringify","data","err","_err$response","_err$response$data","console","error","response","handleImageUpload","_e$target$files","file","files","formData","FormData","append","post","onUploadProgress","pe","total","Math","round","loaded","updatedUser","profilePicture","image","_err$response2","_err$response2$data","current","handleRemoveImage","delete","_err$response3","_err$response3$data","handleChangePassword","length","_res$data","message","_err$response4","_err$response4$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","alt","htmlFor","ref","type","accept","onChange","onClick","style","width","onSubmit","v","_c","$RefreshReg$"],"sources":["D:/Quickcart/frontend/src/pages/Profile.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Profile.css\";\r\nimport API_BASE_URL from \"../utils/api\";\r\n\r\nconst Profile = () => {\r\n  // read user safely\r\n  const getStoredUser = () => {\r\n    try {\r\n      return JSON.parse(localStorage.getItem(\"user\"));\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const [user, setUser] = useState(getStoredUser());\r\n  const [form, setForm] = useState({ name: \"\", email: \"\" });\r\n  const [banner, setBanner] = useState({ text: \"\", ok: true });\r\n\r\n  const [imageUploading, setImageUploading] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [showPasswordForm, setShowPasswordForm] = useState(false);\r\n  const [showOld, setShowOld] = useState(false);\r\n  const [showNew, setShowNew] = useState(false);\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n\r\n  const [passwordData, setPasswordData] = useState({\r\n    oldPassword: \"\",\r\n    newPassword: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n  const fileInputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (user) setForm({ name: user.name || \"\", email: user.email || \"\" });\r\n  }, [user]);\r\n\r\n  const authHeader = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n  const getAvatar = (src) => {\r\n    if (!src) return \"https://placehold.co/96x96?text=Avatar\";\r\n    if (typeof src === \"string\") {\r\n      if (/^https?:\\/\\//i.test(src)) return src;\r\n      return `${API_BASE_URL}${src.startsWith(\"/\") ? \"\" : \"/\"}${src}`;\r\n    }\r\n    if (src?.url) return src.url;\r\n    return \"https://placehold.co/96x96?text=Avatar\";\r\n  };\r\n\r\n  const setMsg = (text, ok = true) => setBanner({ text, ok });\r\n\r\n  const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  const handleUpdate = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await axios.put(`${API_BASE_URL}/api/users/${user.id}`, form, {\r\n        headers: { ...authHeader },\r\n      });\r\n      localStorage.setItem(\"user\", JSON.stringify(res.data));\r\n      setUser(res.data);\r\n      setMsg(\"Profile updated!\", true);\r\n      setIsEditing(false);\r\n    } catch (err) {\r\n      console.error(\"Update failed:\", err);\r\n      setMsg(err?.response?.data?.error || \"Failed to update profile.\", false);\r\n    }\r\n  };\r\n\r\n  const handleImageUpload = async (e) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    setImageUploading(true);\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        `${API_BASE_URL}/api/users/${user.id}/upload`,\r\n        formData,\r\n        {\r\n          headers: { \"Content-Type\": \"multipart/form-data\", ...authHeader },\r\n          onUploadProgress: (pe) => {\r\n            if (!pe.total) return;\r\n            setUploadProgress(Math.round((pe.loaded * 100) / pe.total));\r\n          },\r\n        }\r\n      );\r\n\r\n      const updatedUser = { ...user, profilePicture: res.data.image };\r\n      setUser(updatedUser);\r\n      localStorage.setItem(\"user\", JSON.stringify(updatedUser));\r\n      setMsg(\"Profile picture updated!\", true);\r\n    } catch (err) {\r\n      console.error(\"Upload error:\", err);\r\n      setMsg(err?.response?.data?.error || \"Failed to upload profile picture.\", false);\r\n    } finally {\r\n      setImageUploading(false);\r\n      setUploadProgress(0);\r\n      if (fileInputRef.current) fileInputRef.current.value = \"\";\r\n    }\r\n  };\r\n\r\n  const handleRemoveImage = async () => {\r\n    try {\r\n      await axios.delete(`${API_BASE_URL}/api/users/${user.id}/remove-picture`, {\r\n        headers: { ...authHeader },\r\n      });\r\n      const updatedUser = { ...user, profilePicture: \"\" };\r\n      setUser(updatedUser);\r\n      localStorage.setItem(\"user\", JSON.stringify(updatedUser));\r\n      setMsg(\"Profile picture removed.\", true);\r\n    } catch (err) {\r\n      console.error(\"Remove error:\", err);\r\n      setMsg(err?.response?.data?.error || \"Failed to remove profile picture.\", false);\r\n    }\r\n  };\r\n\r\n  const handleChangePassword = async (e) => {\r\n    e.preventDefault();\r\n    const { oldPassword, newPassword, confirmPassword } = passwordData;\r\n\r\n    if (!oldPassword || !newPassword || !confirmPassword) {\r\n      return setMsg(\"All password fields are required.\", false);\r\n    }\r\n    if (newPassword.length < 8 || !/[A-Za-z]/.test(newPassword) || !/\\d/.test(newPassword)) {\r\n      return setMsg(\"New password must be 8+ chars and include a letter and a number.\", false);\r\n    }\r\n    if (newPassword !== confirmPassword) {\r\n      return setMsg(\"New passwords do not match.\", false);\r\n    }\r\n\r\n    try {\r\n      const res = await axios.put(\r\n        `${API_BASE_URL}/api/users/${user.id}/change-password`,\r\n        { oldPassword, newPassword },\r\n        { headers: { ...authHeader } }\r\n      );\r\n      setMsg(res.data?.message || \"Password changed.\", true);\r\n      setPasswordData({ oldPassword: \"\", newPassword: \"\", confirmPassword: \"\" });\r\n      setShowPasswordForm(false);\r\n    } catch (err) {\r\n      console.error(\"Password change failed:\", err);\r\n      setMsg(err?.response?.data?.error || \"Failed to change password.\", false);\r\n    }\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <main className=\"bg-gray-50 min-h-screen\">\r\n        <div className=\"max-w-3xl mx-auto px-4 py-16 text-center\">\r\n          <div className=\"bg-white rounded-xl p-10 ring-1 ring-black/5 shadow-[0_1px_2px_rgba(0,0,0,0.06),0_10px_20px_rgba(0,0,0,0.06)]\">\r\n            <h2 className=\"text-xl font-semibold mb-2\">Please log in to view your profile.</h2>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main className=\"bg-gray-50 min-h-screen\">\r\n      <div className=\"max-w-3xl mx-auto px-4 py-8\">\r\n        <div className=\"bg-white p-6 md:p-8 rounded-xl ring-1 ring-black/5 shadow-[0_1px_2px_rgba(0,0,0,0.06),0_10px_20px_rgba(0,0,0,0.06)] fade-in\">\r\n          <h2 className=\"text-2xl font-extrabold text-slate-900 text-center mb-6\">Your Profile</h2>\r\n\r\n          {/* Avatar + Upload */}\r\n          <div className=\"flex items-center gap-4 mb-6\">\r\n            <img\r\n              src={getAvatar(user.profilePicture)}\r\n              alt=\"Profile\"\r\n              className=\"w-20 h-20 rounded-full object-cover ring-1 ring-black/5\"\r\n            />\r\n            <div className=\"flex items-center gap-2\">\r\n              <label\r\n                htmlFor=\"avatar-input\"\r\n                className=\"px-3 py-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold cursor-pointer\"\r\n              >\r\n                Change photo\r\n              </label>\r\n              <input\r\n                id=\"avatar-input\"\r\n                ref={fileInputRef}\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                className=\"hidden\"\r\n                onChange={handleImageUpload}\r\n              />\r\n              {user.profilePicture && (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleRemoveImage}\r\n                  className=\"px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-sm font-medium\"\r\n                >\r\n                  Remove\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {imageUploading && (\r\n            <div className=\"w-full bg-gray-200 rounded-full h-2 mb-4\">\r\n              <div\r\n                className=\"bg-emerald-600 h-2 rounded-full transition-all\"\r\n                style={{ width: `${uploadProgress}%` }}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* View or Edit */}\r\n          {isEditing ? (\r\n            <form onSubmit={handleUpdate} className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Name</label>\r\n                <input\r\n                  name=\"name\"\r\n                  value={form.name}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-200 rounded-lg\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Email</label>\r\n                <input\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  value={form.email}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-200 rounded-lg\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex gap-2 pt-2\">\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"bg-emerald-600 hover:bg-emerald-700 text-white px-5 py-2.5 rounded-lg font-semibold\"\r\n                >\r\n                  Save Changes\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    setIsEditing(false);\r\n                    setForm({ name: user.name || \"\", email: user.email || \"\" });\r\n                  }}\r\n                  className=\"bg-white border border-gray-200 hover:bg-gray-50 px-5 py-2.5 rounded-lg font-semibold\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          ) : (\r\n            <div className=\"space-y-3\">\r\n              <div>\r\n                <span className=\"block text-xs text-gray-500\">Name</span>\r\n                <span className=\"font-medium\">{user.name}</span>\r\n              </div>\r\n              <div>\r\n                <span className=\"block text-xs text-gray-500\">Email</span>\r\n                <span className=\"font-medium\">{user.email}</span>\r\n              </div>\r\n              <button\r\n                onClick={() => setIsEditing(true)}\r\n                className=\"mt-2 bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-lg font-semibold\"\r\n              >\r\n                Edit Profile\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Toggle password form */}\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setShowPasswordForm((v) => !v)}\r\n            className=\"mt-6 text-sm text-indigo-600 hover:underline\"\r\n          >\r\n            {showPasswordForm ? \"Cancel password change\" : \"Change password\"}\r\n          </button>\r\n\r\n          {showPasswordForm && (\r\n            <form onSubmit={handleChangePassword} className=\"mt-4 space-y-3 fade-in\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Old Password</label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    type={showOld ? \"text\" : \"password\"}\r\n                    className=\"w-full border border-gray-200 rounded-lg px-3 py-2 pr-12\"\r\n                    value={passwordData.oldPassword}\r\n                    onChange={(e) =>\r\n                      setPasswordData({ ...passwordData, oldPassword: e.target.value })\r\n                    }\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowOld((v) => !v)}\r\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-indigo-600\"\r\n                  >\r\n                    {showOld ? \"Hide\" : \"Show\"}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">New Password</label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    type={showNew ? \"text\" : \"password\"}\r\n                    className=\"w-full border border-gray-200 rounded-lg px-3 py-2 pr-12\"\r\n                    value={passwordData.newPassword}\r\n                    onChange={(e) =>\r\n                      setPasswordData({ ...passwordData, newPassword: e.target.value })\r\n                    }\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowNew((v) => !v)}\r\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-indigo-600\"\r\n                  >\r\n                    {showNew ? \"Hide\" : \"Show\"}\r\n                  </button>\r\n                </div>\r\n                <p className=\"text-xs text-gray-500 mt-1\">\r\n                  Use at least 8 characters, including a letter and a number.\r\n                </p>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Confirm New Password</label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    type={showConfirm ? \"text\" : \"password\"}\r\n                    className=\"w-full border border-gray-200 rounded-lg px-3 py-2 pr-12\"\r\n                    value={passwordData.confirmPassword}\r\n                    onChange={(e) =>\r\n                      setPasswordData({ ...passwordData, confirmPassword: e.target.value })\r\n                    }\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowConfirm((v) => !v)}\r\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-indigo-600\"\r\n                  >\r\n                    {showConfirm ? \"Hide\" : \"Show\"}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                className=\"bg-emerald-600 hover:bg-emerald-700 text-white px-5 py-2.5 rounded-lg font-semibold\"\r\n              >\r\n                Save Password\r\n              </button>\r\n            </form>\r\n          )}\r\n\r\n          {/* Banner */}\r\n          {banner.text && (\r\n            <div\r\n              className={`mt-6 border rounded-lg px-4 py-3 text-sm ${\r\n                banner.ok\r\n                  ? \"bg-emerald-50 text-emerald-700 border-emerald-200\"\r\n                  : \"bg-red-50 text-red-700 border-red-200\"\r\n              }`}\r\n            >\r\n              {banner.text}\r\n            </div>\r\n          )}\r\n\r\n          {/* Placeholder for future sections */}\r\n          <div className=\"mt-8\">\r\n            <h3 className=\"text-lg font-semibold mb-2\">Account</h3>\r\n            <p className=\"text-sm text-gray-500\">\r\n              Order history and saved items coming soon.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}